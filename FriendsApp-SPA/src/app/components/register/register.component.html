<!--Reactive form -->
<form [formGroup]="registerForm" (ngSubmit)="register()">
    <h2 class="text-center text-primary">Sign Up</h2>
    <hr>
    <div class="form-group">
      <input type="text" class="form-control" 
              formControlName="username" 
              placeholder="Username"
              [ngClass]="{'is-invalid': username.errors 
                          && username.touched}">
      <div class="invalid-feedback">Please choose an username</div>
    </div>
   
    <div class="form-group">
      <input type="password" class="form-control" 
              formControlName="password" placeholder="Password" 
              [ngClass]="{'is-invalid': password.errors && password.touched}">
      <div class="invalid-feedback">
        <div *ngIf="password.hasError('required')">Password is required</div>
        <div *ngIf="password.hasError('minlength')">Min of 4 characteres</div>
        <div *ngIf="password.hasError('maxlength')">Max of 12 characteres </div>
      </div>
    </div>
    <div class="form-group">
        <input type="password" class="form-control" 
                formControlName="confirmPassword"
                [ngClass]="{'is-invalid': confirmPassword.errors && confirmPassword.touched || 
                confirmPassword.hasError('mismatch') && confirmPassword.touched}"
                placeholder="Confirm Password">
        <div class="invalid-feedback">
            <div *ngIf="confirmPassword.hasError('mismatch') && confirmPassword.touched">
                Confirmation does not match with password
              </div>
            <!-- Validation not working 
              <div *ngIf="confirmPassword.hasError('mismatch') && confirmPassword.touched">
              Confirmation does not match with password
            </div> -->
            <div *ngIf="confirmPassword.hasError('required')">Confirmation is required</div>
        </div>
    </div>
  
    <div class="form-group text-center">
      <button class="btn btn-info mr-2" type="submit">Register</button>
      <a class="btn btn-secondary text-dark" (click)="cancel()">Cancel</a>
    </div>
    
  </form>
<p>{{registerForm.value | json}}</p>
<p>{{registerForm.status | json}}</p>


<!--
 TEMPLATE FORM

<form #registerForm="ngForm" (ngSubmit)="register()">
    <h2 class="text-center text-primary">Sign Up</h2>
    <hr>
    <!-- Values that comes from Parent component
    <div class="form-group">
      <label for="favouriteValue">What is your favorite value</label>
      <select class="form-control" id="favouriteValue">
        <option *ngFor="let value of valueFromHome" [value]="value">{{value.name}}</option>
      </select>
    </div>
    
    <div class="form-group">
      <input type="text" class="form-control" #username="ngModel" name="username" required [(ngModel)]="model.username" placeholder="Username">
    </div>
    <div *ngIf="username.invalid && username.touched" class="alert alert-danger">
        <div *ngIf="!!username.errors.required" class="text-light">Username is required</div>
    </div>

    <div class="form-group">
      <input type="password" class="form-control" name="password" #password="ngModel" minlength="4"
      required [(ngModel)]="model.password" placeholder="Password">
    </div>
    <div *ngIf="password.invalid && password.touched" class="alert alert-danger">
        <div *ngIf="!!password.errors.required" class="text-light">password is required</div>
        <div *ngIf="!!password.errors.minlength"class="text-light">Should be minimum of 4</div>
    </div>
  
    <div class="form-group text-center">
      <button class="btn btn-info mr-2" type="submit" [disabled]="!registerForm.valid">Register</button>
      <a class="btn btn-secondary text-dark" (click)="cancel()">Cancel</a>
    </div>
    
  </form>

-->